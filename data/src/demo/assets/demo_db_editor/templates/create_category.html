{% extends 'base.html' %}

{% block title %} New category | Demo DB Editor {% endblock %}

{% block content %}

<form method="post" enctype="multipart/form-data">

    <div class="form-group">
        <label class="form-label" for="name">Name</label>
        <input class="form-control" type="text" id="name" name="name" placeholder="Category name" value="{{ request.form['name'] }}"></input>
    </div>

    <div class="form-group">
        <label class="form-label" for="image">Image</label>
        <input class="form-control" type="file" id="image" name="image" accept="image/*" value="{{ request.form['image'] }}" onchange="updatePreview()"/>
        <img id="preview" src="" height="200"/>
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
</form>
{% endblock %}

{% block scripts %}
<script>
    function updatePreview() {
        preview.src = URL.createObjectURL(event.target.files[0]);
    }
</script>
{% endblock %}